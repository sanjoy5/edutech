{% extends 'base.html' %}
{% load static %}
{% block title %} Home {% endblock %}

{% block content %}

<!-- <h1>Home Page</h1>

{% for course in courses %}

<div>
    <a href=""> @{{course.instructor}} </a>

    <a href="">
        <h3>{{course.title}}</h3>
    </a>
    <p>{{course.description | slice:"50"}}<a href="">...See more</a></p>

    <p>{{course.topic}}</p>
    <hr>
</div> -->

<!-- {% endfor %} -->

<div class="px-1 md:px-12 m-0 md:m-6">

    <div class="flex flex-col md:flex-row gap-4">

        <div class=" rounded hidden md:block p-3 w-1/4">
            <h2 class="text-xl uppercase font-medium text-center pb-3">Course Topics</h2>

            <div class="my-5 flex items-center justify-between">
                <a href="{% url 'home' %}" class="text-md hover:text-primary">All</a>
                <p class="bg-slate-500 py-1 px-3 text-white text-center">{{topics.count}}</p>
            </div>
            {% for topic in topics %}
            <div class="my-5 flex items-center justify-between">
                <a href="{% url 'home' %}?q={{topic.name}}" class="text-md hover:text-primary">{{topic.name}}</a>
                <p class="bg-slate-500 py-1 px-3 text-white text-center">{{topic.course_set.all.count}}</p>
            </div>
            {% endfor %}
            <div class="flex items-center justify-between mt-3">
                <a href="" class="text-md text-primary">See More</a>
                <a href="" class="p-1 text-center text-lg text-primary">
                    >>
                </a>
            </div>

        </div>

        <div class=" rounded p-3 w-full md:w-2/4">
            <div class="flex flex-col md:flex-row items-center justify-between text-center md:text-start">
                <div class="">
                    <h2 class="text-xl font-medium uppercase">Your Courses</h2>
                    <p class="pb-3">Total <span class="text-primary">{{total_course}}</span> courses are available</p>
                </div>
                <a href="" class="btn bg-slate-800 hover:bg-slate-700"><i class="fa fa-plus pr-1"></i>Publish Course</a>
            </div>


            {% for course in courses %}

            <div class="my-5 px-4 py-3 md:px-8 md:py-6 rounded-lg bg-white myshadow">
                <div class="mb-3 flex items-center">
                    <a href="" class="">
                        <img src="{% static 'images/user.png' %}" class="w-10 h-10 rounded-full mr-2" alt="">
                    </a>
                    <div>
                        <a href="" class="text-lg text-primary">@{{course.instructor}}</a>
                        <p class="text-sm">{{course.created | timesince}} ago</p>
                    </div>

                </div>
                <a href="" class="text-xl font-medium">{{course.title}}</a>
                <p class="text-base mt-2">{{course.description|slice:"120"}} <a href="" class="text-primary">...See
                        More</a>
                </p>
                <a href="">
                    <img src="{% static 'images/demo.png' %}" class="my-4 h h-full max-h-80 object-cover w-full" alt="">
                </a>
                <hr>
                <div class="flex items-center justify-between mt-3">
                    <div class="text-lg">
                        <i class="fas fa-users"></i>
                        <span class="pl-1">5 Joined</span>
                    </div>
                    <p class="px-3 py-2 bg-slate-500 rounded-full text-white text-sm">{{course.topic.name}}</p>
                </div>
            </div>


            {% endfor %}

        </div>
        <div class=" rounded p-3 hidden md:block w-1/4">
            <h2 class="text-xl font-medium text-center pb-3 uppercase">Recent Activities</h2>

            {% for chat in chats %}
            <div class="border my-4 px-4 py-3 rounded">
                <div class="flex justify-between items-center">
                    <div class="mb-3 flex items-center">
                        <a href="" class="">
                            <img src="{% static 'images/user.png' %}" class="w-10 h-10 rounded-full mr-2" alt="">
                        </a>
                        <div>
                            <a href="" class="text-lg text-primary">@{{chat.user.username}}</a>
                            <p class="text-sm">{{chat.created | timesince}} ago</p>
                        </div>

                    </div>

                    <a href=""><i class="fa fa-times text-xl text-rose-500"></i></a>
                </div>
                <p class="">replied to course “<a href="" class="text-primary text-md">{{chat.course.title}}</a>”</p>

                <div class="bg-slate-100 px-2 py-2 md:py-3 md:px-4 rounded mt-3">
                    {{chat.body}}
                </div>
            </div>
            {% endfor %}

        </div>



    </div>

</div>


{% endblock %}